.. index:: pair: group; Garbage-Collected Heap
.. _doxid-group__gc-heap:
.. _cid-gc-heap:

Garbage-Collected Heap
======================

.. toctree::
	:hidden:

	enum_jnc_GcDef.rst
	enum_jnc_GcShadowStackFrameMapOp.rst
	struct_jnc_GcHeap.rst
	struct_jnc_GcSizeTriggers.rst
	struct_jnc_GcStats.rst

.. code-block:: cpp
	:class: overview-code-block

	#include <jnc_GcHeap.h>


This set of functions is used to allocate objects on GC Heap.

.. _doxid-group__gc-heap_1gaaef73ae93331904f451db27be4f1fc90:
.. _cid-jnc_gcheap_getruntime:
.. _doxid-group__gc-heap_1ga0e806a97b3da363dad6bc8421f291670:
.. _cid-jnc_gcheap_getstats:
.. _doxid-group__gc-heap_1gaa64a8b68bac85693c0097c72c39af6e7:
.. _cid-jnc_gcheap_getsizetriggers:
.. _doxid-group__gc-heap_1ga26780e017e6961825dbf9845d5b42c33:
.. _cid-jnc_gcheap_setsizetriggers:
.. _doxid-group__gc-heap_1gaa94975d027a44bcec74255960219890e:
.. _cid-jnc_gcheap_collect:
.. _doxid-group__gc-heap_1gae986bce6a7237afb2dbef05c766a56d7:
.. _cid-jnc_gcheap_enternocollectregion:
.. _doxid-group__gc-heap_1gae9693a295759fc0c7c330df17ad84cca:
.. _cid-jnc_gcheap_leavenocollectregion:
.. _doxid-group__gc-heap_1ga7513ae602e25245ff6ee25c3aa4cf1c9:
.. _cid-jnc_gcheap_enterwaitregion:
.. _doxid-group__gc-heap_1ga7083e8e5a2bcf22e08f23d2455c467fa:
.. _cid-jnc_gcheap_leavewaitregion:
.. _doxid-group__gc-heap_1gad1260fee70c8996e62129c4f6f27a36f:
.. _cid-jnc_gcheap_safepoint:
.. _doxid-group__gc-heap_1gaab0be41861426f3760e0e8fb6849dcf3:
.. _cid-jnc_gcheap_setframemap:
.. _doxid-group__gc-heap_1gaf4b1e36be94cde6f5e62c20bcc5971c4:
.. _cid-jnc_gcheap_addstaticdestructor:
.. _doxid-group__gc-heap_1ga60009a094318f1f93be959f474355461:
.. _cid-jnc_gcheap_addstaticclassdestructor:
.. _doxid-group__gc-heap_1ga9ed7872af1d7ab4690ff481a7dbd5f8f:
.. _cid-jnc_gcheap_addstaticroot:
.. _doxid-group__gc-heap_1ga540c98064d2e3dfbcf9315471db07bcc:
.. _cid-jnc_gcheap_allocateclass:
.. _doxid-group__gc-heap_1gabdd21023a0588a46ce6032c8a7e38851:
.. _cid-jnc_gcheap_tryallocateclass:
.. _doxid-group__gc-heap_1gacfb0a961d7603bf6157319257f2e8bbd:
.. _cid-jnc_gcheap_allocatedata:
.. _doxid-group__gc-heap_1gafd6f46c2606bc3633e34e7d8addeac31:
.. _cid-jnc_gcheap_tryallocatedata:
.. _doxid-group__gc-heap_1gac443bf420a6a71dc443fe18227f5d281:
.. _cid-jnc_gcheap_allocatearray:
.. _doxid-group__gc-heap_1gab89db325e9453a82ba29cca6be57ba54:
.. _cid-jnc_gcheap_tryallocatearray:
.. _doxid-group__gc-heap_1gaf1b0aa1186e12c0918044393fd1937b2:
.. _cid-jnc_gcheap_allocatebuffer:
.. _doxid-group__gc-heap_1ga9ed928835c480ec71f50da271eae6a00:
.. _cid-jnc_gcheap_tryallocatebuffer:
.. _doxid-group__gc-heap_1ga3b0d068d6d6b579524f9d8704a43314a:
.. _cid-jnc_gcheap_createdataptrvalidator:
.. _doxid-group__gc-heap_1ga0b481253dee0288cdea0121ad1d8f866:
.. _cid-jnc_gcheap_getdynamiclayout:
.. _doxid-group__gc-heap_1ga18e1990ac91b1e8c713203f52ec6378c:
.. _cid-jnc_gcheap_resetdynamiclayout:
.. _doxid-group__gc-heap_1gab255c32139f06147c7bb607081117961:
.. _cid-jnc_gcheap_weakmark:
.. _doxid-group__gc-heap_1ga2083c31918a77af89f6d7ba07ae33b2b:
.. _cid-jnc_gcheap_markdata:
.. _doxid-group__gc-heap_1ga3d87ed52165d28ed977207a874d741a7:
.. _cid-jnc_gcheap_markclass:
.. _doxid-group__gc-heap_1ga60075b48496242a9a75a123ca03ac58c:
.. _cid-jnc_gcheap_addroot:
.. _doxid-group__gc-heap_1gabced49a8f41becfe398e8e587d3d0358:
.. _cid-jnc_gcheap_addboxtocallsite:
.. ref-code-block:: cpp
	:class: overview-code-block

	// enums

	enum :ref:`jnc_GcDef<doxid-group__gc-heap_1ga7919fa861c6ea4f7daa2446dbd2f1d86>`
	enum :ref:`jnc_GcShadowStackFrameMapOp<doxid-group__gc-heap_1ga0ece1ff7201734551cf59258f10ad02b>`

	// structs

	struct :ref:`jnc_GcHeap<doxid-structjnc___gc_heap>` 
	struct :ref:`jnc_GcSizeTriggers<doxid-structjnc___gc_size_triggers>` 
	struct :ref:`jnc_GcStats<doxid-structjnc___gc_stats>` 

	// global functions

	:ref:`jnc_Runtime<doxid-structjnc___runtime>`*
	jnc_GcHeap_getRuntime (:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap)

	void
	jnc_GcHeap_getStats (
	    :ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
	    :ref:`jnc_GcStats<doxid-structjnc___gc_stats>`* stats
	    )

	void
	jnc_GcHeap_getSizeTriggers (
	    :ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
	    :ref:`jnc_GcSizeTriggers<doxid-structjnc___gc_size_triggers>`* triggers
	    )

	void
	jnc_GcHeap_setSizeTriggers (
	    :ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
	    const :ref:`jnc_GcSizeTriggers<doxid-structjnc___gc_size_triggers>`* triggers
	    )

	void
	jnc_GcHeap_collect (:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap)

	void
	jnc_GcHeap_enterNoCollectRegion (:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap)

	void
	jnc_GcHeap_leaveNoCollectRegion (
	    :ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
	    :ref:`bool_t<doxid-group__base-def_1ga812d16e5494522586b3784e55d479912>` canCollectNow
	    )

	void
	jnc_GcHeap_enterWaitRegion (:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap)

	void
	jnc_GcHeap_leaveWaitRegion (:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap)

	void
	jnc_GcHeap_safePoint (:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap)

	void
	jnc_GcHeap_setFrameMap (
	    :ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
	    :ref:`jnc_GcShadowStackFrame<doxid-structjnc___gc_shadow_stack_frame>`* frame,
	    jnc_GcShadowStackFrameMap* map,
	    jnc_GcShadowStackFrameMapOp op
	    )

	void
	jnc_GcHeap_addStaticDestructor (
	    :ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
	    jnc_StaticDestructFunc* destructFunc
	    )

	void
	jnc_GcHeap_addStaticClassDestructor (
	    :ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
	    jnc_DestructFunc* destructFunc,
	    :ref:`jnc_IfaceHdr<doxid-structjnc___iface_hdr>`* iface
	    )

	void
	jnc_GcHeap_addStaticRoot (
	    :ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
	    const void* p,
	    :ref:`jnc_Type<doxid-structjnc___type>`* type
	    )

	:ref:`jnc_IfaceHdr<doxid-structjnc___iface_hdr>`*
	jnc_GcHeap_allocateClass (
	    :ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
	    :ref:`jnc_ClassType<doxid-structjnc___class_type>`* type
	    )

	:ref:`jnc_IfaceHdr<doxid-structjnc___iface_hdr>`*
	jnc_GcHeap_tryAllocateClass (
	    :ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
	    :ref:`jnc_ClassType<doxid-structjnc___class_type>`* type
	    )

	:ref:`jnc_DataPtr<doxid-structjnc___data_ptr>`
	jnc_GcHeap_allocateData (
	    :ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
	    :ref:`jnc_Type<doxid-structjnc___type>`* type
	    )

	:ref:`jnc_DataPtr<doxid-structjnc___data_ptr>`
	jnc_GcHeap_tryAllocateData (
	    :ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
	    :ref:`jnc_Type<doxid-structjnc___type>`* type
	    )

	:ref:`jnc_DataPtr<doxid-structjnc___data_ptr>`
	jnc_GcHeap_allocateArray (
	    :ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
	    :ref:`jnc_Type<doxid-structjnc___type>`* type,
	    size_t count
	    )

	:ref:`jnc_DataPtr<doxid-structjnc___data_ptr>`
	jnc_GcHeap_tryAllocateArray (
	    :ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
	    :ref:`jnc_Type<doxid-structjnc___type>`* type,
	    size_t count
	    )

	:ref:`jnc_DataPtr<doxid-structjnc___data_ptr>`
	jnc_GcHeap_allocateBuffer (
	    :ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
	    size_t size
	    )

	:ref:`jnc_DataPtr<doxid-structjnc___data_ptr>`
	jnc_GcHeap_tryAllocateBuffer (
	    :ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
	    size_t size
	    )

	:ref:`jnc_DataPtrValidator<doxid-structjnc___data_ptr_validator>`*
	jnc_GcHeap_createDataPtrValidator (
	    :ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
	    :ref:`jnc_Box<doxid-structjnc___box>`* box,
	    void* rangeBegin,
	    size_t rangeLength
	    )

	:ref:`jnc_IfaceHdr<doxid-structjnc___iface_hdr>`*
	jnc_GcHeap_getDynamicLayout (
	    :ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
	    :ref:`jnc_Box<doxid-structjnc___box>`* box
	    )

	void
	jnc_GcHeap_resetDynamicLayout (
	    :ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
	    :ref:`jnc_Box<doxid-structjnc___box>`* box
	    )

	void
	jnc_GcHeap_weakMark (
	    :ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
	    :ref:`jnc_Box<doxid-structjnc___box>`* box
	    )

	void
	jnc_GcHeap_markData (
	    :ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
	    :ref:`jnc_Box<doxid-structjnc___box>`* box
	    )

	void
	jnc_GcHeap_markClass (
	    :ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
	    :ref:`jnc_Box<doxid-structjnc___box>`* box
	    )

	void
	jnc_GcHeap_addRoot (
	    :ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
	    const void* p,
	    :ref:`jnc_Type<doxid-structjnc___type>`* type
	    )

	void
	jnc_GcHeap_addBoxToCallSite (:ref:`jnc_Box<doxid-structjnc___box>`* box)

