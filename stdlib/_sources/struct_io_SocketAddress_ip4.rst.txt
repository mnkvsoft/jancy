.. include:: def.rst
.. index:: pair: struct; io.SocketAddress_ip4
.. _doxid-type_io_socketaddress_ip4:
.. _cid-io.socketaddress_ip4:

struct io.SocketAddress_ip4
===========================

.. toctree::
	:hidden:

.. code-block:: jancy
	:class: overview-code-block

	import "io_base.jncx"
	import "io_SocketAddress.jnc"


Overview
~~~~~~~~

This struct holds information about ``IP4`` address in the form
suitable for socket communications. :ref:`More...<details-doxid-type_io_socketaddress_ip4>`

.. ref-code-block:: jancy
	:class: overview-code-block

	// fields

	:ref:`io.AddressFamily<doxid-type_io_addressfamily>` :ref:`m_family<doxid-struct_member_io_socketaddress_ip4_m_family>`
	bigendian unsigned short :ref:`m_port<doxid-struct_member_io_socketaddress_ip4_m_port>`
	:ref:`io.Address_ip4<doxid-type_io_address_ip4>` :ref:`m_address<doxid-struct_member_io_socketaddress_ip4_m_address>`
	char :ref:`m_padding<doxid-struct_member_io_socketaddress_ip4_m_padding>`[]

	// methods

	bool :ref:`isEqual<doxid-function_io_socketaddress_ip4_isequal>` (:ref:`io.SocketAddress_ip4<doxid-type_io_socketaddress_ip4>` const* address)
	bool :ref:`isMatch<doxid-function_io_socketaddress_ip4_ismatch>` (:ref:`io.SocketAddress_ip4<doxid-type_io_socketaddress_ip4>` const* filterAddress)
	bool errorcode :ref:`parse<doxid-function_io_socketaddress_ip4_parse>` (char const* string)
	char const* :ref:`getString<doxid-function_io_socketaddress_ip4_getstring>` () const

.. _details-doxid-type_io_socketaddress_ip4:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

This struct holds information about ``IP4`` address in the form
suitable for socket communications.

On the binary level this structure directly maps to ``sockaddr_in``.



.. rubric:: See also:

`io.Address_ip4`, `io.Socket`, `io.SocketAddressResolver`

Fields
------

.. _doxid-struct_member_io_socketaddress_ip4_m_family:
.. _cid-io.socketaddress_ip4.m_family:
.. ref-code-block:: jancy
	:class: title-code-block

	:ref:`io.AddressFamily<doxid-type_io_addressfamily>` m_family

Holds the address family of the socket address; should be set to
`io.AddressFamily.Ip4`.

.. _doxid-struct_member_io_socketaddress_ip4_m_port:
.. _cid-io.socketaddress_ip4.m_port:
.. ref-code-block:: jancy
	:class: title-code-block

	bigendian unsigned short m_port

Holds the number of ``TCP`` or ``UDP`` port. There is no need to change
the byte order of the port before assignment -- this field is already
declared as ``bigendian`` so all the necessary conversions will happen
automatically.

.. _doxid-struct_member_io_socketaddress_ip4_m_address:
.. _cid-io.socketaddress_ip4.m_address:
.. ref-code-block:: jancy
	:class: title-code-block

	:ref:`io.Address_ip4<doxid-type_io_address_ip4>` m_address

Holds ``IP4`` address as `io.Address_ip4`.

.. _doxid-struct_member_io_socketaddress_ip4_m_padding:
.. _cid-io.socketaddress_ip4.m_padding:
.. ref-code-block:: jancy
	:class: title-code-block

	char m_padding []

Extra padding to ensure binary compatibility wiht ``sockaddr_in``.

Methods
-------

.. _doxid-function_io_socketaddress_ip4_isequal:
.. _cid-io.socketaddress_ip4.isequal:
.. ref-code-block:: jancy
	:class: title-code-block

	bool isEqual (:ref:`io.SocketAddress_ip4<doxid-type_io_socketaddress_ip4>` const* address)

Checks two ``IP4`` socket addresses for *equality*; returns ``true`` if
addresses are equal and ``false`` otherwise.

.. _doxid-function_io_socketaddress_ip4_ismatch:
.. _cid-io.socketaddress_ip4.ismatch:
.. ref-code-block:: jancy
	:class: title-code-block

	bool isMatch (:ref:`io.SocketAddress_ip4<doxid-type_io_socketaddress_ip4>` const* filterAddress)

Checks two ``IP4`` socket addresses for *matching*. The term matching
requires some explanation.

Matching could be described as a non-strict equality check. We may
decide to only check *port* for equality and ignore the address. To do
so, set ``m_address`` field of ``filter`` argument to ``0``.

Or the other way around -- only check *address* and ignore port -- set
``m_port`` field of ``filter`` argument to ``0``.

Returns ``true`` if addresses *match* and ``false`` otherwise.

.. _doxid-function_io_socketaddress_ip4_parse:
.. _cid-io.socketaddress_ip4.parse:
.. ref-code-block:: jancy
	:class: title-code-block

	bool errorcode parse (char const* string)

Constructs the address from a string representation in ``string``
argument.

Returns ``true`` if address string was parsed successfully. Otherwise,
sets the description of parsing error and returns ``false`` [#f1]_.

.. _doxid-function_io_socketaddress_ip4_getstring:
.. _cid-io.socketaddress_ip4.getstring:
.. ref-code-block:: jancy
	:class: title-code-block

	char const* getString () const

Creates and returns a string representation of the address.

---------------------

.. rubric:: Footnotes

.. [#f1]

	|footnote-errorcode|

